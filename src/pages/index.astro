---
import Badge from '@components/ui/Badge.astro';
import Card from '@components/ui/Card.astro';
import Container from '@components/ui/Container.astro';
import Link from '@components/ui/Link.astro';
import Layout from '@layouts/Layout.astro';
import { getAllPosts } from '@lib/content/posts.ts';

const posts = await getAllPosts({ includeDrafts: false });
const latest = posts.slice(0, 3);
const title = 'algoro.dev - Home';
const description = 'Personal site, projects, and latest writing.';
---

<Layout title={title} description={description}>
  <section class="pt-20 pb-10 text-center">
    <Container>
      <h1 class="text-4xl font-bold">
        Hi, I’m <span class="text-primary">Alejandro Gonzalez Romero</span>
      </h1>
      <p class="mt-4 text-xl opacity-80">Senior Software Engineer · Code, Cloud & AI</p>
      <div class="mt-8 flex flex-wrap justify-center gap-4">
        <Link variant="primary" url="/blog">Read the Blog</Link>
        <Link variant="ghost" url="/about">About Me</Link>
      </div>
    </Container>
  </section>
  <p class='mx-auto mb-10 max-w-1/2 text-lg text-center opacity-80'>I care about clear UX, robust infra, and measurable outcomes. Smartbox by day; side-projects & reading lists by night. Let’s build something worth using.</p>
  <section class="bg-muted py-12 rounded-t-2xl dark:bg-card">
    <Container class="grid gap-8 sm:grid-cols-3">
      <Card class="p-6 text-center">
        <h3 class="text-xl font-semibold">Experience</h3>
        <p class="text-primary mt-2 text-4xl font-bold">7+</p>
        <p class="opacity-70">years in software development</p>
      </Card>
      <Card class="p-6 text-center">
        <h3 class="text-xl font-semibold">Posts</h3>
        <p class="text-primary mt-2 text-4xl font-bold">{posts.length}</p>
        <p class="opacity-70">published posts</p>
      </Card>
      <Card class="p-6 text-center">
        <h3 class="text-xl font-semibold">Stack</h3>
        <div class="mt-3 flex flex-wrap justify-center gap-2">
          <Badge variant="accent">JS/TS</Badge>
          <Badge variant="accent">Python</Badge>
          <Badge variant="accent">Nuxt/Next</Badge>
          <Badge variant="accent">TailwindCSS</Badge>
          <Badge variant="accent">Vitest</Badge>
          <Badge variant="accent">Playwright</Badge>
          <Badge variant="accent">PostgreSQL</Badge>
          <Badge variant="accent">MongoDB</Badge>
          <Badge variant="accent">Docker</Badge>
          <Badge variant="accent">Kubernetes</Badge>
        </div>
      </Card>
    </Container>
  </section>
  <section class="bg-muted py-8 rounded-b-2xl dark:bg-card">
    <Container>
      <h2 class="text-2xl font-semibold">Latest Posts</h2>
      <div class="mt-8 grid gap-6 sm:grid-cols-2 md:grid-cols-3">
        {
          latest.map((p) => (
            <Card as="article" class="flex flex-col p-4">
              <h3 class="text-lg font-semibold">
                <a href={`/blog/${p.slug}`} class="text-primary hover:underline">
                  {p.title}
                </a>
              </h3>
              <Link variant="subtle" url={`/blog/${p.slug}`} class="mt-4">
                Read
              </Link>
            </Card>
          ))
        }
      </div>
      <div class="mt-4">
        <a href="/blog" class="text-primary hover:underline">View all posts →</a>
      </div>
    </Container>
  </section>
  <section class="py-16">
    <Container class="text-center">
      <h2 class="text-2xl font-semibold">Connect with me</h2>
      <p class="mt-4 opacity-80">I’m always open to new projects and collaborations.</p>
      <div class="mt-6 flex flex-wrap justify-center gap-4">
        <a
          href="https://github.com/algorodev"
          class="text-primary hover:underline"
          target="_blank"
          rel="noopener noreferrer"
        >
          GitHub
        </a>
        <a
          href="https://www.linkedin.com/in/algorodev/"
          class="text-primary hover:underline"
          target="_blank"
          rel="noopener noreferrer"
        >
          LinkedIn
        </a>
        <a href="mailto:me@algoro.dev" class="text-primary hover:underline">
          Email
        </a>
      </div>
    </Container>
  </section>
</Layout>
